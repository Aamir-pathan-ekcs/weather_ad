<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Address Fetcher</title>
    <script>
        async function fetchIPAddress() {
            try {
        const response = await fetch('/'); // Fetch data from the server
        if (!response.ok) {
            throw new Error(`HTTP error! Status: ${response.status}`);
        }
           const data = await response.json(); // Parse the response as JSON
           let lat = data.location.latitude;
           let long = data.location.longitude;
           let city = data.city.names.en;
           let url = `https://api.weather.com/v3/wx/observations/current?geocode=${lat},${long}&units=e&language=en-US&format=json&apiKey=740f4f2d840f4e568f4f2d840fce5629`;
           console.log(url);
           console.log(city);
         } catch (error) {
          console.error('Error fetching data:', error);
          }
        }

        window.onload = fetchIPAddress;
    </script>
</head>
<body>
    <h1>IP Address Fetcher</h1>
    <p id="ip">Fetching IP Address...</p>
</body>
</html>